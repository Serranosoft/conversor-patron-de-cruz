<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Conversor de imagenes a patrón de punto de cruz</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvg/3.0.0/umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>


</head>

<body>
    <section>
        <div>
            <img id="image" src="" crossOrigin="Anonymous" alt="Click to change image" title="Click to change image">
            <div class="toolbar">
                <button onclick="dialog.showDialog()">
                    Abrir galería
                </button>
                <div class="column"><label for="sel">Nivel de detalle (Mientras mas alto, mas pequeño será el hilo)</label>
                    <select id="details" onchange="render()">
                        <option value="256">256 ⚠️⚠️</option>
                        <option value="128">128 ⚠️</option>
                        <option value="96" selected>96</option>
                        <option value="80">80</option>
                        <option value="64">64</option>
                        <option value="48">48</option>
                        <option value="40">40</option>
                        <option value="32">32</option>
                        <option value="24">24</option>
                        <option value="20">20</option>
                    </select>
                </div>
                <div class="row"><label for="is8bit">Color sepia</label>
                    <input type="checkbox" id="is8bit" onchange="render()">

                </div>
            </div>
            <div class="content" id="element-to-print">
                <svg class="svg" xmlns="http://www.w3.org/2000/svg" id="svg" viewBox="0 0 0 0">
                    <defs>
                        <symbol id="x" width="1.5" height="1.5" stroke="currentColor" x="-0.25" y="-0.25">
                            <line filter="" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" x1="0.25"
                                y1="0.25" x2="1.25" y2="1.25"></line>
                            <line filter="" stroke="rgba(0,0,0,0.32)" stroke-width="0.5" stroke-linecap="round"
                                x1="0.25" y1="0.25" x2="1.25" y2="1.25"></line>
                            <line stroke="currentColor" stroke-width="0.5" stroke-linecap="round" x1="0.25" y1="1.25"
                                x2="1.25" y2="0.25"></line>
                        </symbol>
                        <filter rotate="" id='noiseFilter'>
                            <feTurbulence type='fractalNoise' baseFrequency='6.29' numOctaves='6' result="turbulence"
                                stitchTiles='stitch' />
                            <feComposite in="SourceGraphic" in2="turbulence" operator="in" x="0%" y="0%" width="100%"
                                height="100%" result="composite" />
                            <feBlend mode="screen" x="0%" y="0%" width="100%" height="100%" in="SourceGraphic"
                                in2="composite" result="blend1" />
                        </filter>
                    </defs>
                    <g filter="url(#noiseFilter)" id="svgResult"> </g>
                </svg>

                <div id="colors">

                </div>

            </div>
    </section>
    <script src='main.js'></script>

</body>


</html>